<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horse Stable Allocator - Senternet Technologies</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
        }
        /* Wood texture for the stable feel */
        .wood-bg {
            background-color: #5D4037;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20c0-11.05 8.95-20 20-20v20h-20zM0 20h20v20H0V20z' fill='%234E342E' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">

    const { useState } = React;

    // --- LOGIC EXPLANATION ---
    // Grid Indices:
    // 0 1 2
    // 3 X 5
    // 6 7 8
    // X (index 4) is Center (Empty)
    
    // Constraints:
    // Top: 0+1+2 = 12
    // Bottom: 6+7+8 = 12
    // Left: 0+3+6 = 12
    // Right: 2+5+8 = 12
    
    // We assume minimum 1 horse per stall to be realistic.

    const generateStable = () => {
        let attempts = 0;
        const TARGET = 12;
        
        while (attempts < 10000) {
            attempts++;
            
            // 1. Pick CORNERS first (Indices 0, 2, 6, 8)
            // Corners contribute to two sides, so they restrict the solution most.
            // Max value for a corner is roughly TARGET - 2 (since other cells need min 1)
            const c0 = Math.floor(Math.random() * (TARGET - 3)) + 1; // Top-Left
            const c2 = Math.floor(Math.random() * (TARGET - 3)) + 1; // Top-Right
            const c6 = Math.floor(Math.random() * (TARGET - 3)) + 1; // Bottom-Left
            const c8 = Math.floor(Math.random() * (TARGET - 3)) + 1; // Bottom-Right

            // 2. Calculate MIDDLES based on Corners to satisfy sum = 12
            const m1 = TARGET - c0 - c2; // Top Middle
            const m3 = TARGET - c0 - c6; // Left Middle
            const m5 = TARGET - c2 - c8; // Right Middle
            const m7 = TARGET - c6 - c8; // Bottom Middle
            
            // 3. Check if all calculated middles are valid positive integers (>= 1)
            if (m1 >= 1 && m3 >= 1 && m5 >= 1 && m7 >= 1) {
                // If valid, return the grid array
                return [c0, m1, c2, m3, 0, m5, c6, m7, c8];
            }
        }
        // Fallback (Should not happen often)
        return [4, 4, 4, 4, 0, 4, 4, 4, 4]; 
    };

    function App() {
        const [inputCount, setInputCount] = useState(1);
        const [solutions, setSolutions] = useState([]);
        const [isCalculating, setIsCalculating] = useState(false);

        const handleAllocate = () => {
            setIsCalculating(true);
            setSolutions([]); // Clear previous

            // Simulate "thinking" time for effect
            setTimeout(() => {
                const newSolutions = [];
                for (let i = 0; i < inputCount; i++) {
                    newSolutions.push(generateStable());
                }
                setSolutions(newSolutions);
                setIsCalculating(false);
            }, 500);
        };

        return (
            <div className="min-h-screen flex flex-col font-sans text-gray-800">
                
                {/* --- HEADER --- */}
                <header className="bg-gradient-to-r from-amber-900 to-amber-800 text-white shadow-lg sticky top-0 z-50">
                    <div className="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
                        <div className="flex items-center gap-3">
                            <div className="bg-white/10 p-2 rounded-lg">
                                <i className="fa-solid fa-horse-head text-3xl text-amber-300"></i>
                            </div>
                            <div className="text-center md:text-left">
                                <h1 className="text-xl md:text-2xl font-bold tracking-wide">SENTERNET TECHNOLOGIES</h1>
                                <p className="text-xs text-amber-200 uppercase tracking-widest">Stable Management System</p>
                            </div>
                        </div>
                        <div className="mt-2 md:mt-0 text-xs text-amber-200/80 text-center md:text-right">
                            <p>Senthilkumar (CEO) | Aranthangi</p>
                            <p>Digital Business Solutions</p>
                        </div>
                    </div>
                </header>

                {/* --- MAIN CONTENT --- */}
                <main className="flex-grow container mx-auto px-4 py-8">
                    
                    {/* INPUT SECTION */}
                    <div className="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                        <div className="bg-amber-100 p-4 border-b border-amber-200 flex items-center justify-between">
                            <h2 className="text-lg font-bold text-amber-900 flex items-center gap-2">
                                <i className="fa-solid fa-sliders"></i> Configuration
                            </h2>
                            <span className="bg-amber-800 text-white text-xs px-2 py-1 rounded">Rule: Sides Sum = 12</span>
                        </div>
                        
                        <div className="p-8">
                            <label className="block text-gray-700 font-semibold mb-3 text-sm uppercase tracking-wide">
                                Enter Number of Chances (Solutions to Generate)
                            </label>
                            
                            <div className="flex flex-col sm:flex-row gap-4">
                                <input 
                                    type="number" 
                                    min="1" 
                                    max="50"
                                    value={inputCount}
                                    onChange={(e) => setInputCount(Math.max(1, parseInt(e.target.value) || 0))}
                                    className="flex-grow p-4 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:outline-none text-xl font-bold text-center text-gray-700 transition-colors"
                                    placeholder="Enter number..."
                                />
                                <button 
                                    onClick={handleAllocate}
                                    disabled={isCalculating}
                                    className="bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform active:scale-95 transition-all duration-200 flex items-center justify-center gap-2 min-w-[200px]"
                                >
                                    {isCalculating ? (
                                        <i className="fa-solid fa-circle-notch fa-spin"></i>
                                    ) : (
                                        <>
                                            ALLOCATE <i className="fa-solid fa-arrow-right"></i>
                                        </>
                                    )}
                                </button>
                            </div>
                            <p className="mt-4 text-xs text-gray-500 italic text-center">
                                *Generates random 3x3 layouts where every outer direction adds up to 12 horses.*
                            </p>
                        </div>
                    </div>

                    {/* RESULTS SECTION */}
                    <div className="mt-12">
                        {solutions.length > 0 && (
                            <div className="flex justify-between items-end mb-6 border-b border-gray-200 pb-2">
                                <h3 className="text-2xl font-bold text-gray-800">Generated Stables</h3>
                                <span className="text-sm text-gray-500">Count: {solutions.length}</span>
                            </div>
                        )}

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                            {solutions.map((grid, index) => (
                                <StableGrid key={index} grid={grid} index={index + 1} />
                            ))}
                        </div>

                        {/* Empty State */}
                        {solutions.length === 0 && !isCalculating && (
                            <div className="text-center py-12 opacity-40">
                                <i className="fa-solid fa-chess-board text-6xl text-gray-300 mb-4"></i>
                                <p className="text-gray-500">Waiting for allocation request...</p>
                            </div>
                        )}
                    </div>

                </main>

                {/* --- FOOTER (Senternet Standard) --- */}
                <footer className="bg-gray-900 text-white pt-10 pb-6 mt-12 border-t-4 border-amber-600">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 text-center md:text-left">
                            
                            {/* Company Info */}
                            <div>
                                <h4 className="text-lg font-bold text-amber-500 mb-4">SENTERNET TECHNOLOGIES</h4>
                                <p className="text-gray-400 text-sm leading-relaxed mb-4">
                                    We provide top-notch Web Design, Graphic Design, and Digital Marketing solutions tailored for your business growth.
                                </p>
                            </div>

                            {/* Services */}
                            <div>
                                <h4 className="text-lg font-bold text-amber-500 mb-4">Our Services</h4>
                                <ul className="text-gray-400 text-sm space-y-2">
                                    <li><i className="fa-solid fa-code text-amber-700 mr-2"></i>Website Development</li>
                                    <li><i className="fa-solid fa-paintbrush text-amber-700 mr-2"></i>Graphic Design</li>
                                    <li><i className="fa-solid fa-bullhorn text-amber-700 mr-2"></i>Social Media Marketing</li>
                                </ul>
                            </div>

                            {/* Contact Info (MANDATORY) */}
                            <div>
                                <h4 className="text-lg font-bold text-amber-500 mb-4">Contact Us</h4>
                                <ul className="space-y-3 text-sm">
                                    <li className="flex items-center justify-center md:justify-start gap-3">
                                        <span className="bg-amber-900/50 p-2 rounded-full w-8 h-8 flex items-center justify-center"><i className="fa-solid fa-location-dot"></i></span>
                                        <span>Aranthangi, Pudukkottai</span>
                                    </li>
                                    <li className="flex items-center justify-center md:justify-start gap-3">
                                        <span className="bg-green-900/50 p-2 rounded-full w-8 h-8 flex items-center justify-center"><i className="fa-brands fa-whatsapp text-green-400"></i></span>
                                        <span>+91 81900 38085</span>
                                    </li>
                                    <li className="flex items-center justify-center md:justify-start gap-3">
                                        <span className="bg-red-900/50 p-2 rounded-full w-8 h-8 flex items-center justify-center"><i className="fa-solid fa-envelope text-red-400"></i></span>
                                        <span>senternettechnologies@gmail.com</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div className="border-t border-gray-800 pt-6 text-center text-xs text-gray-500">
                            &copy; 2025 Senternet Technologies. Designed by Senthil & Team.
                        </div>
                    </div>
                </footer>
            </div>
        );
    }

    // --- SUB-COMPONENT: The 3x3 Grid Display ---
    function StableGrid({ grid, index }) {
        // Calculate Total Horses used in this solution
        const totalHorses = grid.reduce((a, b) => a + b, 0);

        return (
            <div className="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden animate-fade-in hover:shadow-2xl transition-shadow duration-300">
                {/* Header of Card */}
                <div className="bg-amber-50 px-4 py-3 border-b border-amber-100 flex justify-between items-center">
                    <span className="font-bold text-amber-800">Chance #{index}</span>
                    <span className="text-xs bg-amber-200 text-amber-900 px-2 py-1 rounded-full font-bold">
                        Total: {totalHorses} Horses
                    </span>
                </div>

                {/* The 3x3 Layout */}
                <div className="p-4 bg-amber-900/5 flex justify-center">
                    <div className="grid grid-cols-3 gap-2 bg-amber-800 p-2 rounded-lg wood-bg shadow-inner w-fit">
                        {grid.map((val, i) => {
                            const isCenter = i === 4;
                            return (
                                <div 
                                    key={i}
                                    className={`
                                        w-12 h-12 flex flex-col items-center justify-center rounded font-bold text-lg relative
                                        ${isCenter ? 'bg-amber-900/40 shadow-inner' : 'bg-white text-amber-900 shadow-sm'}
                                    `}
                                >
                                    {isCenter ? (
                                        <i className="fa-solid fa-ban text-white/20 text-xs"></i>
                                    ) : (
                                        <>
                                            {val}
                                            {/* Tiny horse icon decoration */}
                                            <i className="fa-solid fa-horse absolute bottom-1 right-1 text-[8px] opacity-30"></i>
                                        </>
                                    )}
                                </div>
                            )
                        })}
                    </div>
                </div>

                {/* Verification/Sums */}
                <div className="p-3 bg-gray-50 text-[10px] text-gray-500 border-t border-gray-100">
                    <div className="grid grid-cols-2 gap-x-4 gap-y-1">
                        <div className="flex justify-between">
                            <span>Top (Sum):</span>
                            <span className="font-bold text-green-600">{grid[0] + grid[1] + grid[2]}</span>
                        </div>
                        <div className="flex justify-between">
                            <span>Bottom (Sum):</span>
                            <span className="font-bold text-green-600">{grid[6] + grid[7] + grid[8]}</span>
                        </div>
                        <div className="flex justify-between">
                            <span>Left (Sum):</span>
                            <span className="font-bold text-green-600">{grid[0] + grid[3] + grid[6]}</span>
                        </div>
                        <div className="flex justify-between">
                            <span>Right (Sum):</span>
                            <span className="font-bold text-green-600">{grid[2] + grid[5] + grid[8]}</span>
                        </div>
                    </div>
                </div>
            </div>
        );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

</script>

</body>
</html>


